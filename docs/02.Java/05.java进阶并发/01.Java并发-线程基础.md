---
title: Java并发-线程基础
date: 2023-05-04 14:11:36
permalink: /pages/b02182/
categories:
  - Java
  - java进阶并发
tags:
  - 
---
https://blog.csdn.net/qq_44715943/article/details/116714584?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168317992916800226528025%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=168317992916800226528025&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-116714584-null-null.142^v86^control_2,239^v2^insert_chatgpt&utm_term=Java%20%E7%BA%BF%E7%A8%8B&spm=1018.2226.3001.4187
## 知识体系

<p><img src="/imgs/java-concurrent-overview-1.png" alt="Java并发知识体系"></p> 

## 线程A和线程B是什么关系？
在java语言中：

线程A和线程B，<mark>堆内存</mark> 和 <mark>方法区</mark> 内存共享。但是 <mark>栈内存</mark> 独立，一个线程一个栈。

eg.
假设启动10个线程，会有10个栈空间，每个栈和每个栈之间，互不干扰，各自执行各自的，这就是多线程并发。

## 思考一个问题？

使用了多线程机制之后，main方法结束，是不是有可能程序也不会结束？

main方法结束只是主线程结束了，主栈空了，其它的栈(线程)可能还在压栈弹栈。

## 对于单核的CPU来说，真的可以做到真正的多线程并发吗？

对于多核的CPU电脑来说，真正的多线程并发是没问题的。4核CPU表示同一个时间点上，可以真正的有4个进程并发执行。

单核的CPU表示只有一个大脑：
不能够做到真正的多线程并发，但是可以做到给人一种“多线程并发”的感觉。

对于单核的CPU来说，在某一个时间点上实际上只能处理一件事情，但是由于CPU的处理速度极快，多个线程之间频繁切换执行，给别人的感觉是：多个事情同时在做！！！

## 线程的状态

<img src="/imgs/20210512173109590.png">

在Java程序中，一个线程对象只能调用一次start()方法启动新线程，并在新线程中执行run()方法。一旦run()方法执行完毕，线程就结束了。 因此，Java线程的状态有以下几种：

- New：新创建的线程，尚未执行；

- Runnable：运行中的线程，正在执行run()方法的Java代码；

- Blocked：运行中的线程，因为某些操作被阻塞而挂起；

- Waiting：运行中的线程，因为某些操作在等待中；

- Timed Waiting：运行中的线程，因为执行sleep()方法正在计时等待；

- Terminated：线程已终止，因为run()方法执行完毕。

